<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
*{margin:0;padding:0;}
div{width:800px;margin:0 auto;overflow:hidden;}
ul{width:240px;margin:10px;border:1px solid red;float:left;}
li{list-style:none;height:300px;background:#ccc;margin:10px 0;text-align:center;font-size:50px;}
</style>
</head>
<script>
window.onload = function(){
	var aTmp = document.getElementsByTagName('ul');
	var aUl = [];
	var n = 0;
	for(var i=0;i<aTmp.length;i++){
		aUl.push(aTmp[i]);
	}
	
	createLi();
	
	window.onscroll = function(){
		//可视区高度
		var clientHeight = document.documentElement.clientHeight;
		//滚动距离
		var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
		//最大滚动高度
		var height = document.body.scrollHeight;
		
		if(height <= scrollTop + clientHeight+100){
			createLi();
		}
	};
	function createLi(){
		n++;
		
		if(n>=6){
			return;
		}
		
		document.title = n;
		for(var i=0;i<30;i++){
			var oLi = document.createElement('li');
			oLi.style.height = rnd(50,200)+'px';
			oLi.innerHTML = i;
			aUl.sort(function(ul1,ul2){
				return ul1.offsetHeight - ul2.offsetHeight;
			});
			
			aUl[0].appendChild(oLi);
		}
	}
	
	
	
	
	
	function rnd(n,m){
		return Math.floor(Math.random()*(m-n)+n);
	}
};
</script>

<body>
	<div>
    	<ul></ul>
        <ul></ul>
        <ul></ul>
    </div>
</body>
</html>
