<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
*{margin:0;padding:0;}
div{width:966px;margin:0 auto;overflow:hidden;}
ul{width:300px;margin:10px;border:1px solid red;float:left;}
li{list-style:none;height:300px;background:#ccc;margin:10px 0;text-align:center;font-size:50px;}
</style>
<script>
window.onload=function (){
	var aUl=[];
	for (var i=0; i<document.getElementsByTagName('ul').length; i++)
	{
		aUl.push(document.getElementsByTagName('ul')[i]);
	}
	
	createLi();
	
	
	window.onscroll=function (){
		//可视区高度
		var clientHeight=document.documentElement.clientHeight;
		//滚动距离
		var scrollTop=document.documentElement.scrollTop || document.body.scrollTop;
		//滚动最大高度
		var height=document.body.scrollHeight;
		
		if (height <= clientHeight+scrollTop+100)
		{
			createLi();
		}
	};
	
	function createLi()
	{
		for (var i=0; i<20; i++)
		{
			var oLi=document.createElement('li');
			oLi.style.height=rnd(100, 300)+'px';
			
			aUl.sort(function (ul1, ul2){
				return ul1.offsetHeight-ul2.offsetHeight;
			});
			aUl[0].appendChild(oLi);
		}
	}
	
	function rnd(n, m)
	{
		return Math.floor(Math.random()*(m-n)+n);
	}
};
</script>
</head>

<body>
	<div>
		<ul></ul>
		<ul></ul>
		<ul></ul>
	</div>
</body>
</html>